<div class="profile">
    <button data-ng-if="user.current" data-ng-click="passwordDialog()" class="change-password" type="button">Ändra lösenord</button>
    <h1 class="username">{{ user.username }}</h1>

    <table class="profile-items">
        <thead>
            <tr>
                <th>POÄNG</th>
                <th>LAG</th>
                <th>SKYTTEKUNG</th>
                <th>MÅL</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>{{ user.points }}</td>
                <td>{{ user.team.name | notnull:'-' }}</td>
                <td>{{ user.player.firstname | notnull:'-' }} {{ user.player.lastname }}</td>
                <td>{{ user.player.goals | notnull:0 }}</td>
            </tr>
        </tbody>
    </table>

</div>

<div class="group-list">
    <table data-ng-if="groups" class="groups-table">
        <caption>Ligor</caption>
        <thead>
            <tr>
                <th class="center">#</th>
                <th>Liga</th>
                <th class="center hidden-col">Medlemmar</th>
                <th class="center hidden-col">Admin</th>
                <th data-ng-if="user.current" class="center"></th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="group in groups">
                <td class="center">{{ $index + 1 }}</td>
                <td><a href="#/groups/{{ group.id }}">{{ group.name }}</a></td>
                <td class="center hidden-col">{{ group.users.length }}</td>
                <td class="center hidden-col">
                    <span data-ng-if="group.admin == user.id">{{ user.username }}</span>
                    <span data-ng-if="group.admin != user.id">
                        <a href="#/profile/{{ group.admin }}">{{ group.users | admin:group.admin }}</a>
                    </span>
                </td>
                <td data-ng-if="user.current" class="center">
                    <button data-ng-click="leaveDialog(group)" class="leave-group" type="button">Lämna</button>
                </td>
            </tr>
        </tbody>
    </table>
    <p data-ng-if="!groups" class="no-groups">Du är inte medlem i någon liga.</p>
</div>

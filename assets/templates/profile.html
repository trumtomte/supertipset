<div class="profile">
    <button data-ng-if="user.current" data-ng-click="passwordDialog()" class="change-password" type="button">Ändra lösenord</button>
    <h1 class="username">{{ user.firstname }} {{ user.lastname }} <small>({{ user.username }})</small></h1>

    <div class="user-points-container">
        <h6>POÄNG</h6>
        <p class="user-points">{{ user.points }}</p>
    </div>

    <table data-ng-if="user.current || (!user.current && hasStarted)" class="profile-items">
        <caption>Specialtips</caption>
        <thead>
            <tr>
                <th>VINNARE</th>
                <th>SKYTTEKUNG</th>
                <th>MÅL</th>
                <th>POÄNG</th>
            </tr>
        </thead>

        <tbody>
            <tr>
                <td>{{ user.team.name ? user.team.name : '-' }}</td>
                <td>{{ user.player.firstname ? user.player.firstname : '-' }} {{ user.player.lastname }}</td>
                <td>{{ user.player.goals ? user.player.goals : 0 }}</td>
                <td>0</td>
            </tr>
        </tbody>
    </table>
</div>

<div class="group-list">
    <table data-ng-if="groups" class="groups-table">
        <caption>Ligor</caption>
        <thead>
            <tr>
                <th class="center">#</th>
                <th>Liga</th>
                <th class="center hidden-col">Medlemmar</th>
                <th class="center hidden-col">Admin</th>
                <th data-ng-if="user.current" class="center"></th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="group in groups">
                <td class="center">{{ $index + 1 }}</td>
                <td><a href="#/groups/{{ group.id }}">{{ group.name }}</a></td>
                <td class="center hidden-col">{{ group.users.length }}</td>
                <td class="center hidden-col">
                    <span data-ng-if="group.admin == user.id">{{ user.username }}</span>
                    <span data-ng-if="group.admin != user.id">
                        <a href="#/profile/{{ group.admin }}">{{ group.admin_name }}</a>
                    </span>
                </td>
                <td data-ng-if="user.current" class="center">
                    <button data-ng-click="leaveDialog(group)" class="leave-group" type="button">Lämna</button>
                </td>
            </tr>
        </tbody>
    </table>
    <p data-ng-if="!groups" class="no-groups">Du är inte medlem i någon liga.</p>
</div>

<div data-ng-if="flatBets" class="user-bets">
    <table class="groups-table">
        <caption>Tips</caption>
        <thead>
            <tr>
                <th class="center">Match (grupp)</th>
                <th class="center hidden-col">Resultat</th>
                <th class="center">Tips</th>
                <th class="center hidden-col">Poäng</th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="game in flatBets" data-ng-if="game.isDone">
                <td class="center">{{ game.teams[0].name }} - {{ game.teams[1].name }}</td>
                <td class="center hidden-col">{{ game.teams[0].result }} - {{ game.teams[1].result }}</td>
                <td class="center">{{ game.teams[0].bet }} - {{ game.teams[1].bet }}</td>
                <td class="center hidden-col">{{ game.points }}</td>
            </tr>
        </tbody>
    </table>
</div>
